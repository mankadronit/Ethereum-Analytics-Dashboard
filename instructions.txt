-- 1

sbt package

-- 2
docker compose exec spark bash

-- 3

docker cp ./target/scala-2.12/ethereumanalytics_2.12-1.0.jar spark:/opt/bitnami/spark/ivy/

docker cp ./data spark:/opt/bitnami/spark/bin/data

-- 4


 spark-submit --packages org.apache.spark:spark-sql-kafka-0-10_2.12:3.1.1 --class TransactionsProducer target/scala-2.12/ethereumanalytics_2.12-1.0.jar --master local

 spark-submit --packages org.apache.spark:spark-sql-kafka-0-10_2.12:3.1.1 --class edu.neu.ehtanalyzer.TransactionsConsumer --master spark://localhost:7077 ivy/ethereumanalytics_2.12-1.0.jar

 spark-submit --packages org.apache.spark:spark-sql-kafka-0-10_2.12:3.2.1 --master spark://localhost:7077 --class "edu.neu.ethanalyzer.TransactionsConsumer" ../ivy/ethereumanalytics_2.12-1.0.jar

spark-submit --packages org.apache.spark:spark-sql-kafka-0-10_2.12:3.2.1 --master spark://localhost:7077 --class "edu.neu.ethanalyzer.TransactionsProducer" ../ivy/ethereumanalytics_2.12-1.0.jar



kafka-topics.sh --create --topic eth_transactions --partitions 1 --replication-factor 1 --bootstrap-server localhost:9092

./kafka-topics.sh --list --bootstrap-server localhost:9092


docker cp ./target/scala-2.12/ethereumanalytics_2.12-1.0.jar spark:/opt/bitnami/spark/ivy/


 docker compose exec kafka bash

 ./kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic eth_transactions



Things to do:

1. Create a non-spark scala program to write 1000 records every 2 seconds using just the kafka api

2. Use spark-streaming to read from the kafka topic and save the processed data to mysql




//

 spark-submit --packages org.apache.spark:spark-sql-kafka-0-10_2.12:3.2.1 --master localhost --class "edu.neu.ethanalyzer.TransactionsProducer" ./target/scala-2.12/EthereumAnalytics-assembly-1.0.jar

 //
spark-submit --packages org.apache.spark:spark-sql-kafka-0-10_2.12:3.2.1 --master localhost --class "edu.neu.ethanalyzer.TransactionsConsumer" ./target/scala-2.12/EthereumAnalytics-assembly-1.0.jar

//
 spark-submit --packages org.apache.spark:spark-sql-kafka-0-10_2.12:3.2.1 --master localhost --class "edu.neu.ethanalyzer.RowWiseProducer" ./target/scala-2.12/EthereumAnalytics-assembly-1.0.jar
